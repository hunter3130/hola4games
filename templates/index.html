{% extends 'base.html' %}
{% block title %}أدخل كود اللعبة{% endblock %}
{% block body_class %}join-game-page{% endblock %}

{% block content %}

{% if error %}
  <div class="flash-message error centered-error">
    
    <span class="flash-text">{{ error }}</span>
  </div>
{% endif %}


<form method="POST" action="{{ url_for('join_game') }}" class="join-form">
  <h1 class="join-title">  أدخل كود اللعبة</h1>
  <div><span id="game-icon">🎮</span></div>

  <input type="text" name="code" placeholder="أدخل الكود هنا" required class="input-code" />
  <br />
  <button type="submit" class="btn-join">دخول اللعبة</button>
</form>


<script>
  const icons = ['🎮', '🕹️', '👾', '⚔️', '🎲', '🧩'];
  let current = 0;
  setInterval(() => {
    current = (current + 1) % icons.length;
    const iconEl = document.getElementById('game-icon');
    iconEl.style.transform = 'rotate(20deg)';
    setTimeout(() => {
      iconEl.textContent = icons[current];
      iconEl.style.transform = 'rotate(0deg)';
    }, 150);
  }, 1000);
</script>
{% endblock %}
