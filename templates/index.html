{% extends 'base.html' %}
{% block title %}Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ù„Ø¹Ø¨Ø©{% endblock %}
{% block body_class %}join-game-page{% endblock %}

{% block content %}

<body>
  <h1 class="join-title">
  <span id="game-icon">ðŸŽ®</span> Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ù„Ø¹Ø¨Ø©
  </h1>
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="flash">
      {% for message in messages %}
        <p>{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<form method="POST" action="{{ url_for('join_game') }}" class="join-form">
    <input type="text" name="code" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§" required class="input-code" />
    <br />
    <button type="submit" class="btn-join">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</form>

{% if error %}
    <p style="color:red; margin-top: 15px;">{{ error }}</p>
{% endif %}
</body>
<script>
  const icons = ['ðŸŽ®', 'ðŸ•¹ï¸', 'ðŸ‘¾', 'âš”ï¸', 'ðŸŽ²', 'ðŸ§©'];
  let current = 0;
  setInterval(() => {
    current = (current + 1) % icons.length;
    const iconEl = document.getElementById('game-icon');
    // ØªØ£Ø«ÙŠØ± Ø­Ø±ÙƒØ© Ø¯ÙˆØ±Ø§Ù† ØµØºÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±
    iconEl.style.transform = 'rotate(20deg)';
    setTimeout(() => {
      iconEl.textContent = icons[current];
      iconEl.style.transform = 'rotate(0deg)';
    }, 150);
  }, 1000);
</script>
{% endblock %}
